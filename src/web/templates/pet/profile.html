{% extends 'base.html' %}

{% block title %}
    Профиль питомца
{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/pet/page.css">
{% endblock %}

{% block body %}
<div class="container-fluid px-0">
  <div class="pet-detail-card">
    {% if pet_photos %}
      <div class="pet-photos">
        {% for photo in pet_photos %}
          <img src="{{ photo.url }}" alt="{{ pet.name }}" class="pet-photo">
        {% endfor %}
      </div>
    {% else %}
      <div class="pet-photos">
        <img src="/static/images/default_pet.jpg" alt="{{ pet.name }}" class="pet-photo">
      </div>
    {% endif %}

    <div class="pet-detail-content">
      <h2 class="pet-title">{{ pet.name }}</h2>
      <ul class="pet-info">
        <li><strong>Порода:</strong> {{ pet.breed }}</li>
        <li><strong>Возраст:</strong> {{ pet.age }}</li>
        <li><strong>Цвет:</strong> {{ pet.color }}</li>
        <li><strong>Особенности:</strong> {{ pet.description }}</li>
      </ul>

      <div class="pet-health-section">
        <p class="section-title">Вакцинация</p>
        <ul class="pet-health-info">
          <li>Последняя обработка: {{ pet.last_vaccination or 'Не указано' }}</li>
          <li>Следующая обработка: {{ pet.next_vaccination or 'Не указано' }}</li>
        </ul>

        <p class="section-title">Паразиты</p>
        <ul class="pet-health-info">
          <li>Последняя обработка: {{ pet.last_parasite_treatment or 'Не указано' }}</li>
          <li>Следующая обработка: {{ pet.next_parasite_treatment or 'Не указано' }}</li>
        </ul>

        <p class="section-title">Клещи и блохи</p>
        <ul class="pet-health-info">
          <li>Последняя обработка: {{ pet.last_fleas_ticks_treatment or 'Не указано' }}</li>
          <li>Следующая обработка: {{ pet.next_fleas_ticks_treatment or 'Не указано' }}</li>
        </ul>
      </div>
    </div>

    <div class="pet-actions">
      <a class="action-btn edit-btn" href="/pets/update_pet/{{ pet.id }}">
        <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
          <path d="m18.5 2.5 a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
        </svg>
        Редактировать
      </a>
    </div>
  </div>
</div>
{% endblock %}

{% block tg_button %}
<script src="/static/js/backButtonController.js"></script>
<script>
  setupBackButton(true, '/profile');
</script>
{% endblock %}
