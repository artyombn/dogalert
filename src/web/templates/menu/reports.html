{% extends 'base.html' %}

{% block title %}
    Объявления
{%  endblock %}

{% block head %}
<link rel="stylesheet" href="/static/css/menu/reports.css">
{% endblock %}

{% block body %}
<div class="container-fluid px-0">

  <div class="add-report-container">
    <a href="reports/create_report" class="add-report-link">
      <div class="add-report-card">
        <span class="add-icon">➕</span>
        <span class="add-text">Создать объявление</span>
      </div>
    </a>
  </div>

  <h2 class="section-title">Мои объявления</h2>

  <div class="report-card-list">
    {% for object in reports_with_first_photo %}
    <a href="/reports/?id={{ object.report.id }}" class="report-card-link">
      <div class="report-card">
        <img src="{{ object.first_photo_url or '/static/images/image.jpg' }}"
             alt="{{ object.report.title }}" class="report-image">
        <div class="report-content">
          <h5 class="report-title">{{ object.report.title }}</h5>
          <p class="report-description">{{ object.report.content }}</p>
          <div class="report-meta">
            <span class="region">Регион: {{ user_geo.region }}</span>
            <span class="badge"
              style="font-size: 15px; margin-top: 10px;
                background-color:
                {% if object.report.status == 'active' %}#007bff
                {% elif object.report.status == 'found' %}#28a745
                {% elif object.report.status == 'cancelled' %}#dc3545
                {% else %}
                {% endif %};">
              {% if object.report.status == "active" %}Активно
              {% elif object.report.status == "found" %}Питомец найден
              {% elif object.report.status == "cancelled" %}Отменено
              {% else %}
              {% endif %}
            </span>
          </div>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>

</div>
{% endblock %}

